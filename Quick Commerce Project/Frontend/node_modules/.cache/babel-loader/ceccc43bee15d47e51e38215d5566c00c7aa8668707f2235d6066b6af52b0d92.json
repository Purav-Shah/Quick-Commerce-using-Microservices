{"ast":null,"code":"var _jsxFileName = \"C:\\\\Purav\\\\College\\\\SEM X\\\\Front+Back\\\\frontend\\\\src\\\\component\\\\admin\\\\EditProductPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport '../../style/addProduct.css';\nimport ApiService from \"../../service/ApiService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EditProductPage = () => {\n  _s();\n  const {\n    productId\n  } = useParams();\n  const [image, setImage] = useState(null);\n  const [category, setCategory] = useState('');\n  const [name, setName] = useState('');\n  const [description, setDescription] = useState('');\n  const [message, setMessage] = useState('');\n  const [price, setPrice] = useState('');\n  const [imageUrl, setImageUrl] = useState(null);\n  const navigate = useNavigate();\n  useEffect(() => {\n    if (productId) {\n      ApiService.getProductById(productId).then(response => {\n        setName(response.product.name);\n        setDescription(response.product.description);\n        setPrice(response.product.price);\n        setCategory(response.product.category);\n        setImageUrl(response.product.imageUrl);\n      });\n    }\n  }, [productId]);\n  const handleImageChange = e => {\n    setImage(e.target.files[0]);\n    setImageUrl(URL.createObjectURL(e.target.files[0]));\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      const formData = new FormData();\n      if (image) {\n        formData.append('image', image);\n      }\n      formData.append('productId', productId);\n      formData.append('category', category);\n      formData.append('name', name);\n      formData.append('description', description);\n      formData.append('price', price);\n      const response = await ApiService.updateProduct(formData);\n      if (response.status === 200) {\n        setMessage(response.message);\n        setTimeout(() => {\n          setMessage('');\n          navigate('/admin/products');\n        }, 3000);\n      }\n    } catch (error) {\n      var _error$response, _error$response$data;\n      setMessage(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || error.message || 'unable to update product');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"product-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Edit Product\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"message\",\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 29\n      }, this), imageUrl && /*#__PURE__*/_jsxDEV(\"img\", {\n        src: imageUrl,\n        alt: \"Product\",\n        className: \"preview-image\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 30\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        onChange: handleImageChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Category\",\n        value: category,\n        onChange: e => setCategory(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Product name\",\n        value: name,\n        onChange: e => setName(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        placeholder: \"Description\",\n        value: description,\n        onChange: e => setDescription(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        placeholder: \"Price\",\n        value: price,\n        onChange: e => setPrice(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Update Product\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 9\n  }, this);\n};\n_s(EditProductPage, \"cOhC83uWHaheMkV6MZGbgXXk+MA=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = EditProductPage;\nexport default EditProductPage;\nvar _c;\n$RefreshReg$(_c, \"EditProductPage\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useParams","ApiService","jsxDEV","_jsxDEV","EditProductPage","_s","productId","image","setImage","category","setCategory","name","setName","description","setDescription","message","setMessage","price","setPrice","imageUrl","setImageUrl","navigate","getProductById","then","response","product","handleImageChange","e","target","files","URL","createObjectURL","handleSubmit","preventDefault","formData","FormData","append","updateProduct","status","setTimeout","error","_error$response","_error$response$data","data","children","onSubmit","className","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","type","onChange","placeholder","value","required","_c","$RefreshReg$"],"sources":["C:/Purav/College/SEM X/Front+Back/frontend/src/component/admin/EditProductPage.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport '../../style/addProduct.css'\nimport ApiService from \"../../service/ApiService\";\n\nconst EditProductPage = () => {\n    const {productId} = useParams();\n    const [image, setImage] = useState(null);\n    const [category, setCategory] = useState('');\n    const [name, setName] = useState('');\n    const [description, setDescription] = useState('');\n    const [message, setMessage] = useState('');\n    const [price, setPrice] = useState('');\n    const [imageUrl, setImageUrl] = useState(null);\n    const navigate = useNavigate();\n\n    useEffect(() => {\n        if (productId) {\n            ApiService.getProductById(productId).then((response) => {\n                setName(response.product.name);\n                setDescription(response.product.description);\n                setPrice(response.product.price);\n                setCategory(response.product.category);\n                setImageUrl(response.product.imageUrl);\n            });\n        }\n    }, [productId]);\n\n    const handleImageChange = (e) => {\n        setImage(e.target.files[0]);\n        setImageUrl(URL.createObjectURL(e.target.files[0]));\n    };\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        try {\n            const formData = new FormData();\n            if(image) {\n                formData.append('image', image);\n            }\n            formData.append('productId', productId);\n            formData.append('category', category);\n            formData.append('name', name);\n            formData.append('description', description);\n            formData.append('price', price);\n\n            const response = await ApiService.updateProduct(formData);\n            if (response.status === 200) {\n                setMessage(response.message)\n                setTimeout(() => {\n                    setMessage('')\n                    navigate('/admin/products')\n                }, 3000);\n            }\n        } catch (error) {\n            setMessage(error.response?.data?.message || error.message || 'unable to update product')\n        }\n    }\n\n    return(\n        <div>\n            <form onSubmit={handleSubmit} className=\"product-form\">\n                <h2>Edit Product</h2>\n                {message && <div className=\"message\">{message}</div>}\n                {imageUrl && <img src={imageUrl} alt=\"Product\" className=\"preview-image\" />}\n                <input type=\"file\" onChange={handleImageChange} />\n                <input \n                    type=\"text\" \n                    placeholder=\"Category\"\n                    value={category}\n                    onChange={(e) => setCategory(e.target.value)}\n                    required\n                />\n                <input \n                    type=\"text\" \n                    placeholder=\"Product name\"\n                    value={name}\n                    onChange={(e)=> setName(e.target.value)}\n                    required\n                />\n                <textarea \n                    placeholder=\"Description\"\n                    value={description}\n                    onChange={(e)=> setDescription(e.target.value)}\n                    required\n                />\n                <input \n                    type=\"number\" \n                    placeholder=\"Price\"\n                    value={price}\n                    onChange={(e)=> setPrice(e.target.value)}\n                    required\n                />\n                <button type=\"submit\">Update Product</button>\n            </form>\n        </div>\n    )\n}\n\nexport default EditProductPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}